<?xml version="1.0" encoding="UTF-8"?>
<faces-config
    xmlns="http://xmlns.jcp.org/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd"
    version="2.2">
    
	<application>
		<message-bundle>resources.application</message-bundle>
		  <locale-config>
			<default-locale>en</default-locale>
		  </locale-config>
  <resource-bundle>
    <base-name>resources.labels</base-name>
    <var>label</var>
  </resource-bundle>
  </application>

	<managed-bean>
		<managed-bean-name>main</managed-bean-name>
		<managed-bean-class>com.kolyshkin.Main</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>test</managed-bean-name>
		<managed-bean-class>com.kolyshkin.quiz.Test</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>converter</managed-bean-name>
		<managed-bean-class>com.kolyshkin.converter.CurrencyConverter</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>

	<validator>
	 <validator-id>emailValidator</validator-id>
	 <validator-class>com.kolyshkin.validator.EmailValidator</validator-class>
	</validator>
	<validator>
	 <validator-id>passValidator</validator-id>
	 <validator-class>com.kolyshkin.validator.PasswordValidator</validator-class>
	</validator>
	<validator>
		<validator-id>nameValidator</validator-id>
		<validator-class>com.kolyshkin.validator.NameCheck</validator-class>
	</validator>
	<validator>
	    <validator-id>quizValidator</validator-id>
	    <validator-class>com.kolyshkin.validator.QuizValidator</validator-class>
	</validator>
	<validator>
      <validator-id>fileValidator</validator-id>
      <validator-class>com.kolyshkin.validator.PictureValidator</validator-class>
    </validator>
	<validator>
	    <validator-id>converterValidator</validator-id>
	    <validator-class>com.kolyshkin.validator.ConverterValidator</validator-class>
	</validator>
	
	<navigation-rule>
		<display-name>home.xhtml</display-name>
		<from-view-id>/home.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.signUp}</from-action>
			<from-outcome>signUp</from-outcome>
			<to-view-id>/signUp.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
    <navigation-rule>
		<display-name>home.xhtml</display-name>
		<from-view-id>/home.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.logIn}</from-action>
			<from-outcome>logIn</from-outcome>
			<to-view-id>/logIn.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
		<navigation-rule>
		<display-name>signUp.xhtml</display-name>
		<from-view-id>/signUp.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{mBean.insertUser}</from-action>
			<from-outcome>welcome</from-outcome>
			<to-view-id>/user.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>signUp.xhtml</display-name>
		<from-view-id>/signUp.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.insertUser}</from-action>
			<from-outcome>error</from-outcome>
			<to-view-id>/error.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>logIn.xhtml</display-name>
		<from-view-id>/logIn.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.checkUser}</from-action>
			<from-outcome>user</from-outcome>
			<to-view-id>/user.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>logIn.xhtml</display-name>
		<from-view-id>/logIn.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.checkUser}</from-action>
			<from-outcome>admin</from-outcome>
			<to-view-id>/administration.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>logIn.xhtml</display-name>
		<from-view-id>/logIn.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.checkUser}</from-action>
			<from-outcome>error</from-outcome>
			<to-view-id>/error.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>administration.xhtml</display-name>
		<from-view-id>/administration.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>insert</from-outcome>
			<to-view-id>/insert.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		   <display-name>insert.xhtml</display-name>
		   <from-view-id>/insert.xhtml</from-view-id>
		   <navigation-case>
		     <from-action>#{mBean.addUser}</from-action>
		     <from-outcome>administration</from-outcome>
		     <to-view-id>/administration.xhtml</to-view-id>
		   </navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>administration.xhtml</display-name>
		<from-view-id>/administration.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.editUser}</from-action>
		    <from-outcome>edit</from-outcome>
			<to-view-id>/edit.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>edit.xhtml</display-name>
		<from-view-id>/edit.xhtml</from-view-id>
		<navigation-case>
		    <from-action>#{mBean.updateUser}</from-action>
		    <from-outcome>administration</from-outcome>
			<to-view-id>/administration.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>success.xhtml</display-name>
		<from-view-id>/success.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>done</from-outcome>
			<to-view-id>/done.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>again.xhtml</display-name>
		<from-view-id>/again.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/success.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>success.xhtml</display-name>
		<from-view-id>/success.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/success.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>success.xhtml</display-name>
		<from-view-id>/success.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>error</from-outcome>
			<to-view-id>/error.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>show.xhtml</display-name>
		<from-view-id>/show.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>again</from-outcome>
			<to-view-id>/again.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>show.xhtml</display-name>
		<from-view-id>/show.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/success.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>user.xhtml</display-name>
		<from-view-id>/user.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>show</from-outcome>
			<to-view-id>/show.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>again.xhtml</display-name>
		<from-view-id>/again.xhtml</from-view-id>
		<navigation-case>
			<from-action>#{Quiz.Answer}</from-action>
			<from-outcome>error</from-outcome>
			<to-view-id>/error.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
</faces-config>
